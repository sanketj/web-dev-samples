<!DOCTYPE html>
<html>
    <body>
        <div>Click the button within 5s of page load.</div>
        <input type='button' value='click' onclick='onClick()' />
        <div>abc<span>123</span>def</div>
        <script>
            function onClick() {
                let span = document.querySelector('span');
                let range = new Range();
                range.selectNode(span);
                let selection = window.getSelection();
                selection.removeAllRanges();
                selection.addRange(range);
            }

            window.setTimeout(() => {
                document.execCommand('copy');
            }, 5000);
        </script>
    </body>
</html>