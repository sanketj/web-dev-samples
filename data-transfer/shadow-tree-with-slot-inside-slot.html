<!DOCTYPE html>
<html>
    <head>
        <style>
        </style>
    </head>
    <body>
        <div id='outer'>
            <div id='middle' slot='foo'>
                <div id='inner' slot='bar'>ghi</div>
            </div>
        </div>
        <script>
            let outer = document.getElementById('outer');
            outer.attachShadow({ mode: 'open' });
            outer.shadowRoot.append('abc');
            let slot = document.createElement('slot');
            slot.setAttribute('name', 'foo');
            outer.shadowRoot.append(slot);

            let middle = document.getElementById('middle');
            middle.attachShadow({ mode: 'open' });
            slot = document.createElement('slot');
            slot.setAttribute('name', 'bar');
            middle.shadowRoot.append('def', slot);
        </script>
    </body>
</html>